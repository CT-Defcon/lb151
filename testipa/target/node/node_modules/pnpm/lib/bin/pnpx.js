"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const find_workspace_dir_1 = __importDefault(require("@pnpm/find-workspace-dir"));
const path = require("path");
const npx = require("@zkochan/libnpx/index");
const PATH = require("path-name");
const PNPM_PATH = path.join(__dirname, '../../bin/pnpm.js');
(async () => {
    var _a;
    const workspaceRoot = await find_workspace_dir_1.default(process.cwd());
    if (workspaceRoot) {
        process.env[PATH] = `${path.join(workspaceRoot, 'node_modules/.bin')}${path.delimiter}${(_a = process.env[PATH]) !== null && _a !== void 0 ? _a : ''}`;
    }
    npx({
        ...npx.parseArgs(process.argv, PNPM_PATH),
        installerStdio: 'inherit',
    });
})();
